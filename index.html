<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Indonesia Mangrove Regulation Network</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #ffffff;
    --bg2: #f8f9fc;
    --bg3: #f0f3f8;
    --surface: rgba(0,0,0,0.04);
    --border: rgba(0,0,0,0.09);
    --text: #1a2740;
    --muted: #6b7f99;
    --accent: #0891b2;
    --accent2: #0369a1;

    --c-climate:  #00c98b;
    --c-conservation: #4fc3f7;
    --c-governance: #a78bfa;
    --c-planning: #f59e0b;
    --c-finance: #fb923c;
    --c-social: #f472b6;
    --c-other: #94a3b8;
  }

  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  /* HEADER */
  header {
    background: linear-gradient(135deg, #f0f6ff 0%, #e8f4fb 100%);
    border-bottom: 1px solid var(--border);
    padding: 14px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
    z-index: 100;
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
  }

  .header-left { display:flex; align-items:center; gap:14px; }
  .mangrove-icon {
    width: 42px; height: 42px;
    background: linear-gradient(135deg, #00c98b, #0891b2);
    border-radius: 10px;
    display: flex; align-items:center; justify-content:center;
    font-size: 22px;
    box-shadow: 0 4px 12px rgba(0,201,139,0.3);
  }
  .header-title h1 {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    font-weight: 700;
    color: #1a2740;
    letter-spacing: 0.3px;
  }
  .header-title p {
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 1px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .header-stats {
    display: flex; gap: 20px;
  }
  .stat-pill {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 5px 14px;
    font-size: 12px;
    color: var(--muted);
    display: flex; align-items:center; gap:6px;
  }
  .stat-pill strong { color: var(--accent); font-size: 14px; }

  .header-right { display:flex; gap:8px; }
  .btn {
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 7px 14px;
    border-radius: 8px;
    font-size: 12px;
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.2s;
    font-weight: 500;
  }
  .btn:hover { background: rgba(255,255,255,0.1); border-color: var(--accent); color: var(--accent); }
  .btn.active { background: rgba(0,212,184,0.15); border-color: var(--accent); color: var(--accent); }

  /* MAIN LAYOUT */
  .main { display:flex; flex:1; overflow:hidden; }

  /* LEFT SIDEBAR */
  .sidebar {
    width: 280px;
    background: var(--bg2);
    border-right: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    overflow: hidden;
  }

  .sidebar-section {
    padding: 16px;
    border-bottom: 1px solid var(--border);
  }
  .sidebar-section h3 {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--muted);
    font-weight: 600;
    margin-bottom: 12px;
  }

  /* SEARCH */
  .search-wrap { position:relative; }
  .search-wrap input {
    width: 100%;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 9px 14px 9px 36px;
    color: var(--text);
    font-size: 12px;
    font-family: 'DM Sans', sans-serif;
    outline: none;
    transition: border-color 0.2s;
  }
  .search-wrap input:focus { border-color: var(--accent); }
  .search-wrap input::placeholder { color: var(--muted); }
  .search-icon {
    position:absolute; left:12px; top:50%; transform:translateY(-50%);
    color: var(--muted); font-size:14px; pointer-events:none;
  }

  /* FILTER CHIPS */
  .focus-filters { display:flex; flex-wrap:wrap; gap:6px; }
  .filter-chip {
    display: flex; align-items: center; gap:6px;
    padding: 5px 11px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    border: 1.5px solid transparent;
    transition: all 0.2s;
    user-select: none;
  }
  .filter-chip .dot {
    width: 7px; height: 7px; border-radius: 50%; flex-shrink:0;
  }
  .filter-chip.active { opacity:1; }
  .filter-chip.inactive { opacity:0.4; }

  /* REGULATION TYPE FILTERS */
  .type-filters { display:flex; flex-direction:column; gap:4px; }
  .type-item {
    display:flex; align-items:center; justify-content:space-between;
    padding: 7px 10px;
    border-radius: 7px;
    cursor: pointer;
    transition: background 0.15s;
    font-size: 12px;
    border: 1px solid transparent;
  }
  .type-item:hover { background: var(--surface); }
  .type-item.active { background: rgba(0,212,184,0.08); border-color: rgba(0,212,184,0.2); }
  .type-item .type-left { display:flex; align-items:center; gap:8px; }
  .type-shape { width:14px; height:14px; flex-shrink:0; }
  .type-count {
    font-size:10px; background: var(--surface);
    padding: 2px 7px; border-radius: 10px; color: var(--muted); font-weight:600;
  }

  /* NODE LIST */
  .node-list-wrap { flex:1; overflow-y:auto; padding: 0 12px 12px; }
  .node-list-wrap::-webkit-scrollbar { width:4px; }
  .node-list-wrap::-webkit-scrollbar-thumb { background: var(--border); border-radius:2px; }

  .node-card {
    padding: 10px;
    border: 1px solid var(--border);
    border-radius: 8px;
    margin-bottom: 6px;
    cursor: pointer;
    transition: all 0.15s;
    background: var(--surface);
  }
  .node-card:hover { border-color: var(--accent); background: rgba(0,212,184,0.05); }
  .node-card.highlighted { border-color: var(--accent); background: rgba(0,212,184,0.1); }
  .node-card-label { font-size: 12px; font-weight: 600; color: var(--text); margin-bottom: 3px; }
  .node-card-meta { font-size: 10px; color: var(--muted); display:flex; gap:8px; flex-wrap:wrap; }
  .node-focus-badge {
    font-size:9px; padding: 1px 6px; border-radius:10px; font-weight:600;
    text-transform:uppercase; letter-spacing:0.5px;
  }

  /* GRAPH AREA */
  .graph-area {
    flex:1;
    position: relative;
    overflow: hidden;
    background: #ffffff;
  }

  .graph-area svg {
    width:100%; height:100%;
  }

  /* TOOLTIP */
  .tooltip {
    position: absolute;
    background: #ffffff;
    border: 1px solid rgba(8,145,178,0.25);
    border-radius: 10px;
    padding: 14px 16px;
    max-width: 340px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.15s;
    z-index: 1000;
    box-shadow: 0 8px 32px rgba(0,0,0,0.12);
  }
  .tooltip.visible { opacity:1; }
  .tt-label { font-size:14px; font-weight:700; color: var(--accent); font-family:'Playfair Display',serif; margin-bottom:4px; }
  .tt-type { font-size:10px; color: var(--muted); text-transform:uppercase; letter-spacing:1px; margin-bottom:8px; }
  .tt-desc { font-size:11px; color: var(--text); line-height:1.6; margin-bottom:8px; max-height:120px; overflow-y:auto; }
  .tt-meta { display:grid; grid-template-columns:1fr 1fr; gap:5px; margin-bottom:4px; }
  .tt-meta-item { background: var(--surface); border-radius:6px; padding:6px 8px; }
  .tt-meta-label { font-size:9px; color: var(--muted); text-transform:uppercase; letter-spacing:0.5px; margin-bottom:2px; }
  .tt-meta-val { font-size:12px; font-weight:600; color: var(--accent2); }
  .tt-link { margin-top:8px; }
  .tt-link a { font-size:11px; color: var(--accent); text-decoration:none; }
  .tt-link a:hover { text-decoration:underline; }

  /* RIGHT PANEL - details */
  .detail-panel {
    width: 300px;
    background: var(--bg2);
    border-left: 1px solid var(--border);
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: width 0.3s;
  }
  .detail-panel.hidden { width:0; }

  .panel-header {
    padding: 16px;
    border-bottom: 1px solid var(--border);
    display:flex; justify-content:space-between; align-items:center;
  }
  .panel-header h2 { font-size:13px; font-weight:600; font-family:'Playfair Display',serif; }
  .close-btn { cursor:pointer; color: var(--muted); font-size:18px; line-height:1; }
  .close-btn:hover { color: var(--text); }

  .panel-body { flex:1; overflow-y:auto; padding:16px; }
  .panel-body::-webkit-scrollbar { width:4px; }
  .panel-body::-webkit-scrollbar-thumb { background: var(--border); border-radius:2px; }

  .detail-label {
    font-family: 'Playfair Display', serif;
    font-size:20px; font-weight:700;
    color: var(--accent);
    margin-bottom: 4px;
    line-height: 1.2;
  }
  .detail-type-badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 12px;
    background: rgba(0,212,184,0.15);
    color: var(--accent);
    border: 1px solid rgba(0,212,184,0.3);
  }
  .detail-section { margin-bottom:16px; }
  .detail-section h4 { font-size:9px; text-transform:uppercase; letter-spacing:1.5px; color:var(--muted); font-weight:600; margin-bottom:8px; }
  .detail-desc { font-size:12px; line-height:1.7; color: var(--text); }
  .detail-cat {
    font-size: 11px; background: var(--surface); border: 1px solid var(--border);
    padding: 5px 10px; border-radius:6px; color: var(--text); display:inline-block;
  }
  .metrics-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
  .metric-card { background: var(--surface); border: 1px solid var(--border); border-radius:8px; padding:10px; }
  .metric-card .m-label { font-size:9px; text-transform:uppercase; letter-spacing:0.5px; color:var(--muted); margin-bottom:3px; }
  .metric-card .m-val { font-size:16px; font-weight:700; color: var(--accent2); }
  .connections-list { list-style:none; }
  .connections-list li {
    padding: 7px 10px; border-radius:6px; margin-bottom:4px;
    background: var(--surface); border: 1px solid var(--border);
    font-size: 11px; cursor:pointer; transition:all 0.15s;
    display:flex; align-items:center; gap:8px;
  }
  .connections-list li:hover { border-color:var(--accent); color: var(--accent); }
  .conn-arrow { color: var(--muted); font-size:10px; }
  .detail-link { display:block; margin-top:8px; }
  .detail-link a {
    display:flex; align-items:center; gap:6px;
    background: rgba(0,212,184,0.1); border: 1px solid rgba(0,212,184,0.3);
    border-radius:8px; padding:9px 12px;
    color: var(--accent); font-size:12px; text-decoration:none; font-weight:500;
    transition:all 0.2s;
  }
  .detail-link a:hover { background: rgba(0,212,184,0.2); }

  /* LEGEND */
  .legend {
    position: absolute;
    bottom: 20px;
    left: 20px;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(8px);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 12px 14px;
    z-index: 10;
    box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  }
  .legend h4 { font-size:9px; text-transform:uppercase; letter-spacing:1.5px; color:var(--muted); margin-bottom:8px; font-weight:600; }
  .legend-items { display:flex; flex-direction:column; gap:5px; }
  .legend-item { display:flex; align-items:center; gap:8px; font-size:11px; color: var(--text); }
  .legend-dot { width:10px; height:10px; border-radius:50%; flex-shrink:0; }
  .legend-square { width:10px; height:10px; border-radius:2px; flex-shrink:0; }
  .legend-diamond { width:10px; height:10px; transform:rotate(45deg); flex-shrink:0; }
  .legend-triangle { width:0; height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-bottom:10px solid; flex-shrink:0; }

  /* GRAPH CONTROLS */
  .graph-controls {
    position: absolute;
    top: 16px;
    right: 16px;
    display:flex; flex-direction:column; gap:6px;
    z-index:10;
  }
  .ctrl-btn {
    width:34px; height:34px;
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(8px);
    border: 1px solid var(--border);
    border-radius:8px;
    color: var(--text);
    cursor: pointer;
    font-size: 16px;
    display:flex; align-items:center; justify-content:center;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }
  .ctrl-btn:hover { border-color:var(--accent); color:var(--accent); }

  /* node & edge styles applied via D3 */
  .node-circle { cursor:pointer; transition: r 0.2s; }
  .node-label { font-family:'DM Sans',sans-serif; pointer-events:none; user-select:none; }
  .edge { stroke-opacity:0.35; }
  .edge.directed { marker-end: url(#arrow); }
  .edge.highlighted { stroke-opacity:0.9; stroke-width:2.5px !important; }
  .edge.faded { stroke-opacity:0.05; }
  .node-group.faded { opacity: 0.15; }
  .node-group.highlighted { filter: drop-shadow(0 0 8px currentColor); }

  /* SIZE CONTROL */
  .size-control {
    display: flex; align-items: center; gap: 8px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 9px;
    padding: 5px 10px;
  }
  .size-label {
    font-size: 11px; color: var(--muted); font-weight: 500; white-space: nowrap;
  }
  .size-options { display: flex; gap: 4px; }
  .size-btn {
    background: transparent;
    border: 1px solid transparent;
    color: var(--muted);
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 11px;
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    font-weight: 500;
    transition: all 0.15s;
    white-space: nowrap;
  }
  .size-btn:hover { background: rgba(8,145,178,0.08); color: var(--accent); }
  .size-btn.active {
    background: rgba(8,145,178,0.14);
    border-color: rgba(8,145,178,0.35);
    color: var(--accent);
    font-weight: 600;
  }

  /* EMPTY SEARCH */
  .no-results { text-align:center; padding:20px; color: var(--muted); font-size:12px; }
</style>
</head>
<body>

<!-- HEADER -->
<header>
  <div class="header-left">
    <div class="mangrove-icon">üåø</div>
    <div class="header-title">
      <h1>Indonesia Mangrove Regulation Network</h1>
      <p>Regulatory Interconnection Map ¬∑ Indonesia</p>
    </div>
  </div>
  <div class="header-stats">
    <div class="stat-pill"><strong>81</strong> Regulations</div>
    <div class="stat-pill"><strong>118</strong> Connections</div>
    <div class="stat-pill"><strong>6</strong> Focus Areas</div>
  </div>
  <div class="header-right">
    <div class="size-control">
      <span class="size-label">Node size by</span>
      <div class="size-options" id="sizeOptions">
        <button class="size-btn active" data-metric="degree" onclick="setSizeMetric('degree')">Degree</button>
        <button class="size-btn" data-metric="betweenness" onclick="setSizeMetric('betweenness')">Betweenness</button>
        <button class="size-btn" data-metric="eigenvector" onclick="setSizeMetric('eigenvector')">Eigenvector</button>
        <button class="size-btn" data-metric="closeness" onclick="setSizeMetric('closeness')">Closeness</button>
      </div>
    </div>
    <div style="width:1px;background:var(--border);margin:0 4px;"></div>
    <button class="btn active" id="btn-force" onclick="setLayout('force')">Force Graph</button>
    <button class="btn" id="btn-radial" onclick="setLayout('radial')">Radial</button>
    <button class="btn" onclick="resetView()">‚ü≥ Reset</button>
  </div>
</header>

<div class="main">
  <!-- LEFT SIDEBAR -->
  <div class="sidebar">
    <div class="sidebar-section">
      <div class="search-wrap">
        <span class="search-icon">üîç</span>
        <input type="text" id="searchInput" placeholder="Search regulations‚Ä¶" oninput="filterNodes(this.value)">
      </div>
    </div>

    <div class="sidebar-section">
      <h3>General Focus</h3>
      <div class="focus-filters" id="focusFilters"></div>
    </div>

    <div class="sidebar-section">
      <h3>Regulation Type</h3>
      <div class="type-filters" id="typeFilters"></div>
    </div>

    <div style="padding:12px 12px 4px; border-bottom:1px solid var(--border);">
      <span style="font-size:10px;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);font-weight:600;">Regulations</span>
      <span id="nodeCount" style="font-size:10px;color:var(--muted);float:right;"></span>
    </div>
    <div class="node-list-wrap" id="nodeList"></div>
  </div>

  <!-- GRAPH -->
  <div class="graph-area" id="graphArea">
    <svg id="mainSvg">
      <defs>
        <marker id="arrow" markerWidth="8" markerHeight="8" refX="12" refY="3" orient="auto">
          <path d="M0,0 L0,6 L8,3 z" fill="rgba(255,255,255,0.3)"/>
        </marker>
        <marker id="arrow-highlight" markerWidth="8" markerHeight="8" refX="12" refY="3" orient="auto">
          <path d="M0,0 L0,6 L8,3 z" fill="#00d4b8"/>
        </marker>
        <filter id="glow">
          <feGaussianBlur stdDeviation="3" result="blur"/>
          <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
      </defs>
    </svg>
    <div class="graph-controls">
      <button class="ctrl-btn" onclick="zoomIn()" title="Zoom In">+</button>
      <button class="ctrl-btn" onclick="zoomOut()" title="Zoom Out">‚àí</button>
      <button class="ctrl-btn" onclick="resetView()" title="Fit">‚ä°</button>
    </div>
    <div class="legend">
      <h4>General Focus</h4>
      <div class="legend-items" id="legendItems"></div>
    </div>
  </div>

  <!-- DETAIL PANEL -->
  <div class="detail-panel hidden" id="detailPanel">
    <div class="panel-header">
      <h2>Regulation Detail</h2>
      <span class="close-btn" onclick="closeDetail()">‚úï</span>
    </div>
    <div class="panel-body" id="detailBody"></div>
  </div>
</div>

<!-- TOOLTIP -->
<div class="tooltip" id="tooltip"></div>

<script>
// ‚îÄ‚îÄ‚îÄ DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const rawElements = [
{"Label":"KMLHK  716-2023","General Focus":"Climate & Carbon","Category":"NEK in Environmental Permitting","Regulation Type":"Ministerial Decree","Description":"Decree of the Minister of Environment and Forestry No. 716 of 2023 on the Integration of Carbon Economic Value Mechanism in Approval, Partnership and Business Licensing in the Field of Environment and‚Ä¶","Link":"https://www.scribd.com/document/658832750/SK716-Pengintegrasian-Mekanisme-Nilai-Karbon-English-1","degree":"2","size":"3","betweenness":"0","closeness":"0","eigenvector":"0.004198"},
{"Label":"PMLHK 71-2017","General Focus":"Climate & Carbon","Category":"","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry of the Republic of Indonesia Number P.71/MENLHK/SETJEN/KUM.1/12/2017 on the Implementation of the National Registry System for Climate Change Con‚Ä¶","Link":"https://jdih.maritim.go.id/id/peraturan-menteri-lingkungan-hidup-dan-kehutanan-no-p71menlhksetjenkum1122017-tahun-2017","degree":"4","size":"5","betweenness":"0","closeness":"0","eigenvector":"0.017728"},
{"Label":"PMKP 14-2021","General Focus":"Governance & Policy","Category":"Standard Non-Food Fishery Products","Regulation Type":"Ministerial Regulation","Description":"","Link":"https://peraturan.go.id/files/bn520-2021.pdf","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PPRES 121-2012","General Focus":"Conservation & Nature","Category":"Coastal & Island Rehabilitation","Regulation Type":"President Regulation","Description":"Presidential Regulation (PERPRES) No. 121/2012 on the Rehabilitation of Coastal Areas and Small Islands  This regulation directs government efforts toward the restoration of degraded ecosystems, posit‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/41366/perpres-no-121-tahun-2012","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"KMHUT 594-2025","General Focus":"Conservation & Nature","Category":"Mangroves Map","Regulation Type":"Ministerial Decree","Description":"Minister of Forestry Decree No. 594 of 2025 on the national mangrove map 2024  This regulation updates and defines Indonesia's mangrove coverage based on the latest spatial data. The decree provides d‚Ä¶","Link":"https://www.bpdas-sjd.id/tdash/pdf/skpmn.pdf","degree":"8","size":"9","betweenness":"0","closeness":"0","eigenvector":"0.079941"},
{"Label":"PP 23-2021","General Focus":"Conservation & Nature","Category":"Forestry Permit System","Regulation Type":"Government Regulation","Description":"Government Regulation (PP) Number 23 of 2021 concerning the Implementation of Forestry  The regulation provides a comprehensive framework for managing forest areas, including mangroves. It governs for‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/161853/pp-no-23-tahun-2021","degree":"4","size":"5","betweenness":"0.003217","closeness":"0.062500","eigenvector":"0.008864"},
{"Label":"PP 26-2020","General Focus":"Conservation & Nature","Category":"Forest & Land Rehabilitation","Regulation Type":"Government Regulation","Description":"Government Regulation (PP) No. 26 of 2020 on Forest Rehabilitation and Reclamation  It sets the framework for restoring and enhancing the function and productivity of degraded forests and lands. It pr‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/138323/pp-no-26-tahun-2020","degree":"4","size":"5","betweenness":"0","closeness":"0.068750","eigenvector":"0"},
{"Label":"PMLHK 8-2021","General Focus":"Conservation & Nature","Category":"Management of Protected and Production Forest Areas","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry Republic of Indonesia Number 8 Year 2021 concerning Forest Arrangement and Preparation of Forest Management Plans, and Forest Utilization in Prot‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235254/permen-lhk-no-8-tahun-2021","degree":"2","size":"3","betweenness":"0.001741","closeness":"0.012500","eigenvector":"0.003110"},
{"Label":"PPRES 51-2016","General Focus":"Conservation & Nature","Category":"Coastal Boundaries","Regulation Type":"President Regulation","Description":"Presidential Regulation (PERPRES) No. 51/2016 on Coastal Boundaries  PPRES 51-2026 establishes the legal basis for coastal buffer zones, ensuring that mangrove ecosystems, which often occupy critical ‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/40463/perpres-no-51-tahun-2016","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PMLHK 9-2021","General Focus":"Social & Community","Category":"Social Forestry Legal Basis","Regulation Type":"Ministerial Regulation","Description":"Minister of Environment and Forestry Regulation Number 9 of 2021 on Social Forestry Management  This regulation complements the provisions of Minister of Environment and Forestry Regulation No. 4 of 2‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235324/permen-lhk-no-9-tahun-2021","degree":"2","size":"3","betweenness":"0.001582","closeness":"0.012500","eigenvector":"0.008864"},
{"Label":"UU 11-2013","General Focus":"Social & Community","Category":"FPIC","Regulation Type":"Law","Description":"","Link":"https://peraturan.bpk.go.id/Details/38848","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PMKP 28-2021","General Focus":"Conservation & Nature","Category":"Coastal Ecosystem Spatial Planning","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Marine Affairs and Fisheries Number 28 of 2021 concerning the Implementation of Marine Spatial Planning  PMKP 28-2021 on the Implementation of Marine Spatial Planning pro‚Ä¶","Link":"https://jdih.kkp.go.id/Homedev/DetailPeraturan/954","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.024832"},
{"Label":"PP 108-2015","General Focus":"Conservation & Nature","Category":"Protected Area Governance","Regulation Type":"Government Regulation","Description":"Government Regulation (PP) No. 108 of 2015 concerning Amendments to Government Regulation No. 28 of 2011 concerning Management of Nature Reserve Areas and Nature Conservation Areas  This government re‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/5687/pp-no-108-tahun-2015","degree":"2","size":"3","betweenness":"0.000316","closeness":"0.025000","eigenvector":"0.000000"},
{"Label":"PMLHK 73-2017","General Focus":"Climate & Carbon","Category":"","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry No. P.73/MENLHK/SETJEN/KUM.1/12/2017 on Guidelines for the Implementation and Reporting of National Greenhouse Gas Inventory","Link":"https://jdih.maritim.go.id/id/peraturan-menteri-lingkungan-hidup-dan-kehutanan-no-p73menlhksetjenkum1122017-tahun-2017","degree":"2","size":"3","betweenness":"0","closeness":"0","eigenvector":"0.008864"},
{"Label":"PMK 124/PMK.05/2020","General Focus":"Governance & Policy","Category":"Environmental Fund Management","Regulation Type":"Ministerial Regulation","Description":"","Link":"https://peraturan.bpk.go.id/Details/145883/pmk-no-124pmk052020","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"UU 5-1990","General Focus":"Conservation & Nature","Category":"Conservation Law Foundation","Regulation Type":"Law","Description":"Law (UU) No. 5 of 1990 concerning the Conservation of Living Natural Resources and their Ecosystems","Link":"https://peraturan.bpk.go.id/Details/46710/uu-no-5-tahun-1990","degree":"5","size":"6","betweenness":"0.001108","closeness":"0.081250","eigenvector":"0.000000"},
{"Label":"UU 45-2009","General Focus":"Conservation & Nature","Category":"Fisheries Management","Regulation Type":"Law","Description":"Law (UU) No. 45 of 2009 concerning Amendment to Law Number 31 of 2004 concerning Fisheries  The law acknowledges the interconnection between healthy mangrove ecosystems and sustainable fisheries, supp‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/38790/uu-no-45-tahun-2009","degree":"2","size":"3","betweenness":"0.000111","closeness":"0.165000","eigenvector":"0.025334"},
{"Label":"Kep-00296/BEI/09-2023","General Focus":"Climate & Carbon","Category":"Market Oversight","Regulation Type":"Decree of the Board of Directors","Description":"Decree of the Board of Directors of PT Bursa Efek Indonesia No 00296/BEI/09-2023 on the Regulation of Carbon Unit Trading through Carbon Exchange Operator  This decree establishes Indonesia's domestic‚Ä¶","Link":"https://www.idxcarbon.co.id/document/share/19/000595bf-4854-4c5b-983f-4f6cdbd08c5f","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.000000"},
{"Label":"PP 21-2021","General Focus":"Planning & Data","Category":"Spatial Planning and Zoning","Regulation Type":"Government Regulation","Description":"Government Regulation No. 21 of 2023 on Spatial Planning Violations  It serves as the main legal framework for all national spatial planning activities, including land, sea, and coastal areas, includi‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/161851/pp-no-21-tahun-2021","degree":"8","size":"9","betweenness":"0.007384","closeness":"0.162202","eigenvector":"0.070911"},
{"Label":"PMLHK 23-2021","General Focus":"Conservation & Nature","Category":"Forest Rehabilitation Technical Guidance","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry Number 23 of 2021 concerning the Implementation of Forest and Land Rehabilitation.  It governs the restoration and rehabilitation of degraded for‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235350/permen-lhk-no-23-tahun-2021","degree":"4","size":"5","betweenness":"0.000475","closeness":"0.037500","eigenvector":"0"},
{"Label":"Kep-00298/BEI/09-2023","General Focus":"Climate & Carbon","Category":"Carbon Exchange Services","Regulation Type":"Decree of the Board of Directors","Description":"Decree of the Board of Directors of PT Bursa Efek Indonesia No 00298/BEI/09-2023 concerning Regulation on the Supervision of Trading Through Carbon Exchange  This decree creates supervisory frameworks‚Ä¶","Link":"https://idxcarbon.co.id/document/share/17/058c6996-9a0c-4ecb-8fe8-709150a89999","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.000000"},
{"Label":"PMLH 2-2025","General Focus":"Climate & Carbon","Category":"Environmental Economic Instruments","Regulation Type":"Ministerial Regulation","Description":"","Link":"https://peraturan.go.id/id/permenklhbph-no-2-tahun-2025","degree":"1","size":"2","betweenness":"0","closeness":"0.082292","eigenvector":"0.000000"},
{"Label":"UU 10-2009","General Focus":"Conservation & Nature","Category":"Sustainable Tourism","Regulation Type":"Law","Description":"Law (UU) No. 10 Year 2009 on Tourism  It emphasizes that tourism should be conducted based on principles of benefit, kinship, fairness, balance, sustainability, participation, and respect for cultural‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/38598/uu-no-10-tahun-2009","degree":"2","size":"3","betweenness":"0.000111","closeness":"0.165000","eigenvector":"0.025334"},
{"Label":"UU 4-2023","General Focus":"Finance & Markets","Category":"Financial Sector Development & Governance","Regulation Type":"Law","Description":"Law (UU) No. 4 of 2023 on the Development and Strengthening of the Financial Sector  This law provides a comprehensive legal framework for strengthening Indonesia‚Äôs financial system, including sustain‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/240203/uu-no-4-tahun-2023","degree":"1","size":"2","betweenness":"0","closeness":"0.031250","eigenvector":"0"},
{"Label":"PMKP 2-2025","General Focus":"Governance & Policy","Category":"Ministry of Maritime Affairs and Fisheries Organization and Work Precedures","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Maritime Affairs and Fisheries Number 2 of 2025 on the Organization and Work Procedures of the Ministry of Maritime Affairs and Fisheries  This regulation provides the in‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/314437/permen-kkp-no-2-tahun-2025","degree":"1","size":"2","betweenness":"0","closeness":"0.012500","eigenvector":"0"},
{"Label":"UU 32-2024","General Focus":"Conservation & Nature","Category":"Biodiversity and Habitat Protection","Regulation Type":"Law","Description":"Law (UU) Number 32 of 2024 concerning Amendment to Law Number 5 of 1990 concerning the Conservation of Living Natural Resources and their Ecosystems  Law No. 5 of 1990 laid the foundation for biodiver‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/295135/uu-no-32-tahun-2024","degree":"1","size":"2","betweenness":"0","closeness":"0.050000","eigenvector":"0.000000"},
{"Label":"PMLHK 74-2016","General Focus":"Governance & Policy","Category":"Institutional Governance and Decentralized Environmental Management","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry Number P.74/menlhk/setjen/kum.1/8/2016 of 2016 concerning Guidelines for Nomenclature of Provincial and Regency / City Regional Apparatus Carryin‚Ä¶","Link":"https://peraturan.go.id/id/permen-lhk-no-p-74-menlhk-setjen-kum-1-8-2016-tahun-2016","degree":"1","size":"2","betweenness":"0","closeness":"0.012500","eigenvector":"0"},
{"Label":"PMHUT 1-2024","General Focus":"Governance & Policy","Category":"Ministry of Forestry Organization and Work Procedure","Regulation Type":"Ministerial Regulation","Description":"Ministry of Forestry Regulation No. 1 Year 2024 on the Organisation and Work Procedure of the Ministry of Forestry","Link":"https://peraturan.go.id/id/permenhut-no-1-tahun-2024","degree":"1","size":"2","betweenness":"0","closeness":"0.012500","eigenvector":"0"},
{"Label":"PMLHK 10-2021","General Focus":"Conservation & Nature","Category":"Nursery Development","Regulation Type":"Ministerial Regulation","Description":"Minister of Environment and Forestry Regulation Number 10 of 2021 on Community Seedling Gardens  This regulation provides a guideline for the development and operation of community-based nurseries. Th‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235326/permen-lhk-no-10-tahun-2021","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"UU 9-2015","General Focus":"Governance & Policy","Category":"Local Governance & Decentralization","Regulation Type":"Law","Description":"Law (UU) No. 9 of 2015 Second Amendment to Law Number 23 of 2014 concerning Regional Government  It revises the division of authority between central, provincial, and district/city governments in mana‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/38209/uu-no-9-tahun-2015","degree":"2","size":"3","betweenness":"0","closeness":"0.083333","eigenvector":"0"},
{"Label":"UU 16-2016","General Focus":"Climate & Carbon","Category":"International Climate Commitment","Regulation Type":"Law","Description":"Law No. 16/2016 on the ratification of the Paris Agreement To The United Nations Framework Convention On Climate Change (Paris Agreement To The United Nations Framework Convention On Climate Change)  ‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/37573","degree":"4","size":"5","betweenness":"0","closeness":"0.108333","eigenvector":"0"},
{"Label":"PBSN 14-2019","General Focus":"Governance & Policy","Category":"National Standard","Regulation Type":"National Standardization Body Regulation","Description":"","Link":"https://peraturan.bpk.go.id/Details/170979/peraturan-bsn-no-14-tahun-2019","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PMLHK 7-2023","General Focus":"Climate & Carbon","Category":"Procedures for Carbon Trading in the Forestry Sector","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry of the Republic of Indonesia Number 7 of 2023 Concerning Procedures for Carbon Trading in the Forestry Sector","Link":"https://peraturan.bpk.go.id/Details/254282/permen-lhk-no-7-tahun-2023","degree":"4","size":"5","betweenness":"0","closeness":"0","eigenvector":"0.000000"},
{"Label":"PP 45-2021","General Focus":"Planning & Data","Category":"National Geospatial System","Regulation Type":"Government Regulation","Description":"Government Regulation (PP) No. 45 of 2021 on Implementation of Geospatial Information  The regulation fundamentally establishes frameworks for collecting, managing, and sharing spatial data across Ind‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/161966/pp-no-45-tahun-2021","degree":"3","size":"4","betweenness":"0.000158","closeness":"0.130952","eigenvector":"0.045577"},
{"Label":"PMLHK 10-2022","General Focus":"Conservation & Nature","Category":"Watershed Management Planning","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry No. 10 of 2022 on the Preparation of General Plans for Watershed Forest and Land Rehabilitation and Annual Plans for Forest and Land Rehabilitati‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235417/permen-lhk-no-10-tahun-2022","degree":"3","size":"4","betweenness":"0.000079","closeness":"0.012500","eigenvector":"0"},
{"Label":"UU 1-2014","General Focus":"Conservation & Nature","Category":"Integrated Coastal Zone Management","Regulation Type":"Law","Description":"Law (UU) No. 1 of 2014 concerning Amendment to Law No. 27 of 2007 on the Management of Coastal Areas and Small Islands  The law directly addresses the conservation, protection, restoration, and produc‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/38521/uu-no-1-tahun-2014","degree":"4","size":"5","betweenness":"0.005628","closeness":"0.192083","eigenvector":"0.052526"},
{"Label":"PP 60-2007","General Focus":"Conservation & Nature","Category":"Fisheries Resource Conservation & Management","Regulation Type":"Government Regulation","Description":"Government Regulation (PP) No. 60 Year 2007 on the Conservation of Fish Resources  It provides legal framework for conserving fish resources, including ecosystem-based management, protection of spawni‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/4783/pp-no-60-tahun-2007","degree":"1","size":"2","betweenness":"0","closeness":"0.012500","eigenvector":"0"},
{"Label":"UU 17-2007","General Focus":"Governance & Policy","Category":"National Long-Term Development Plan","Regulation Type":"Law","Description":"Law (UU) No. 17 Year 2007 on the National Long-Term Development Plan 2005-2025   Law No. 17 of 2007 sets the foundation for Indonesia‚Äôs long-term development priorities, including the integration of e‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/39830/uu-no-17-tahun-2007","degree":"1","size":"2","betweenness":"0","closeness":"0.070833","eigenvector":"0"},
{"Label":"UU 6-2023","General Focus":"Governance & Policy","Category":"Regulatory Harmonization for Land/Sea Interface","Regulation Type":"Law","Description":"Law No. 6 of 2023 on Stipulating Government Regulation in Lieu of Law No. 2 of 2022 on Job Creation into Law   Legal foundation supporting spatial planning reform and integration across sectors (land,‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/246523/uu-no-6-tahun-2023","degree":"10","size":"10","betweenness":"0.032511","closeness":"0.251042","eigenvector":"0.072224"},
{"Label":"UU 32-2009","General Focus":"Governance & Policy","Category":"Environmental Protection and Management","Regulation Type":"Law","Description":"Law (UU) No. 32 Year 2009 on Environmental Protection and Management  Law No. 32 of 2009 is the fundamental environmental law of Indonesia, establishing the legal foundation for sustainable natural re‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/38771/uu-no-32-tahun-2009","degree":"9","size":"10","betweenness":"0.005332","closeness":"0.221250","eigenvector":"0.025334"},
{"Label":"PMK 216/PMK.07/2021","General Focus":"Finance & Markets","Category":"Fiscal Benefit-Sharing","Regulation Type":"Ministerial Regulation","Description":"Minister of Finance Regulation (PMK) Number 216/PMK.07/2021 on the Use, Monitoring, and Evaluation of Forestry Natural Resources Revenue Sharing Funds Reforestation Funds  It mainly regulates the dist‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/209511/pmk-no-216pmk072021","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PPRES 175-2024","General Focus":"Conservation & Nature","Category":"Institutional Framework","Regulation Type":"President Regulation","Description":"Presidential Regulation of the Republic of Indonesia Number 175 of 2024 Concerning the Ministry of Forestry  This regulation establishes the Ministry of Forestry as a separate entity focused exclusive‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/306886/perpres-no-175-tahun-2024#:~:text=Perpres%20ini%20mengatur%20mengenai%20Kementerian%20Kehutanan%20yang%20menyelenggarakan,berada%20di%20bawah%20dan%20bertanggung%20jawab%20kepada%20Presiden.","degree":"2","size":"3","betweenness":"0","closeness":"0.037500","eigenvector":"0"},
{"Label":"PMATR 14-2021","General Focus":"Planning & Data","Category":"Geospatial Data Standards","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Agrarian Affairs and Spatial Planning/Head of the National Land Agency of the Republic of Indonesia Number 14 of 2021 concerning Guidelines for the Preparation of Databas‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/209801/permen-agrariakepala-bpn-no-14-tahun-2021","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.024832"},
{"Label":"PP 28-2011","General Focus":"Conservation & Nature","Category":"Area-Based Conservation","Regulation Type":"Government Regulation","Description":"Government Regulation (PP) No. 28 of 2011 concerning Management of Nature Reserve Areas and Nature Conservation Areas","Link":"https://peraturan.bpk.go.id/Details/5157","degree":"3","size":"4","betweenness":"0.000316","closeness":"0.037500","eigenvector":"0.000000"},
{"Label":"Kep-00148/BEI/09-2024","General Focus":"Climate & Carbon","Category":"NEK in Marine & Fisheries","Regulation Type":"Decree of the Board of Directors","Description":"Decree of the Board of Directors of PT Bursa Efek Indonesia Number: Kep-00148/BEI/09-2024 concerning regulations on the use of carbon exchange services  This decree defines how market participants can‚Ä¶","Link":"https://wplibrary.co.id/sites/default/files/KEP-00148_BEI_09-2024.pdf","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.000000"},
{"Label":"PPRES 39-2019","General Focus":"Planning & Data","Category":"National Data Transparency","Regulation Type":"President Regulation","Description":"Presidential Regulation (PERPRES) Number 39 of 2019 concerning One Data Indonesia  This regulation mandates the standardization and synchronization of data collection, management, and dissemination to‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/108813/perpres-no-39-tahun-2019","degree":"1","size":"2","betweenness":"0","closeness":"0.018750","eigenvector":"0"},
{"Label":"KDPJPRL 41-2021","General Focus":"Conservation & Nature","Category":"","Regulation Type":"Directorate Regulation","Description":"","Link":"https://www.bing.com/ck/a?!&&p=7a71a924814e98d399143c32edb7467abfb342c65cb785b6998009ba1d28cb54JmltdHM9MTc3MDg1NDQwMA&ptn=3&ver=2&hsh=4&fclid=1ec56a09-27ea-6615-06e3-7cf4269667a4&psq=Keputusan+Direktur+Jenderal+Pengelolaan+Ruang+Laut+Nomor+41+Tahun+2021+tentang+Pedoman+Teknis+Penyajian+Informasi+Geospasial+Kawasan+Konservasi&u=a1aHR0cHM6Ly9qZGloLmtrcC5nby5pZC9wZXJhdHVyYW4vYzU2YWYtNDEuLWtlcGRpcmplbi1wcmwtbm8tNDEtdGgtMjAyMS1wZW55YWppYW4taWcta2F3YXNhbi1rb25zZXJ2YXNpLnBkZg","degree":"4","size":"5","betweenness":"0.009921","closeness":"0.172500","eigenvector":"0.077567"},
{"Label":"PMATR 13-2021","General Focus":"Planning & Data","Category":"Spatial Permit Synchronization","Regulation Type":"Ministerial Regulation","Description":"Minister of Agrarian Affairs/National Land Agency Regulation No. 13 of 2021 on Spatial Use Permit Implementation and Program Synchronization.  PMATR 13/2021 governs the issuance of spatial use permits‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/209797/permen-agrariakepala-bpn-no-13-tahun-2021","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.024832"},
{"Label":"KMLHK 1027-2023","General Focus":"Climate & Carbon","Category":"Carbon Market (Forestry Sector)","Regulation Type":"Ministerial Decree","Description":"Decision of The Minister of Environment and Forestry of The Republic of Indonesia, SK.1027/Menlhk/Phl/Kum.1/9/2023 On Carbon Trading Roadmap for The Forestry Sector","Link":"https://phl.menlhk.go.id/media/publikasi/publikasi_file_1700463144.pdf","degree":"2","size":"3","betweenness":"0","closeness":"0","eigenvector":"0.004198"},
{"Label":"PPRES 27-2014","General Focus":"Planning & Data","Category":"Geo-Information Infrastructure","Regulation Type":"President Regulation","Description":"Presidential Regulation (PERPRES) No. 27 of 2014 on the National Geospatial Information Network  It creates a network of geospatial data nodes across government institutions at central and local level‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/41513/perpres-no-27-tahun-2014","degree":"2","size":"3","betweenness":"0","closeness":"0.018750","eigenvector":"0.018384"},
{"Label":"PMK 180/PMK.05/2022","General Focus":"Finance & Markets","Category":"Mangrove Rehabilitation Finance","Regulation Type":"Ministerial Regulation","Description":"Minister of Finance Regulation (PMK) Number 180/PMK.05/2022 concerning Procedures for Managing Mangrove Rehabilitation Funds  This regulation is directly tied to mangrove ecosystem management because ‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/232904/pmk-no-180pmk052022","degree":"3","size":"4","betweenness":"0","closeness":"0","eigenvector":"0.019281"},
{"Label":"PMLHK 27-2021","General Focus":"Governance & Policy","Category":"Environmental Quality Index","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry of the Republic of Indonesia Number 27 of 2021 Concerning the Environmental Quality Index","Link":"https://peraturan.bpk.go.id/Details/235366/permen-lhk-no-27-tahun-2021","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"KPres 32-1990","General Focus":"Conservation & Nature","Category":"Coastal Zone and Protected Area Management","Regulation Type":"Presidential Decree","Description":"Presidential Decree (KEPPRES) No. 32 of 1990 on Protected Area Management  This regulation declares mangroves as protected areas, setting land-use restrictions and management standards","Link":"https://peraturan.bpk.go.id/Details/63908/keppres-no-32-tahun-1990","degree":"1","size":"2","betweenness":"0","closeness":"0.012500","eigenvector":"0"},
{"Label":"PPres 56-2019","General Focus":"Conservation & Nature","Category":"Integrated Protected Area Management","Regulation Type":"President Regulation","Description":"Presidential Regulation (PERPRES) Number 56 of 2019 on the National Action Plan for Integrated Management of National Parks and National Marine Protected Areas 2018-2025  Presidential Regulation No. 5‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/121654/perpres-no-56-tahun-2019","degree":"7","size":"8","betweenness":"0","closeness":"0","eigenvector":"0.044976"},
{"Label":"PP 27-2025","General Focus":"Conservation & Nature","Category":"Mangrove Protection and Management Framework","Regulation Type":"Government Regulation","Description":"Government Regulation No. 27 Year 2025 on The Protection and Management of Mangrove Ecosystems  This regulation establishes a comprehensive framework specifically dedicated to the protection and manag‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/320198/pp-no-27-tahun-2025","degree":"1","size":"2","betweenness":"0","closeness":"0.012500","eigenvector":"0.000000"},
{"Label":"PPRES 98-2021","General Focus":"Governance & Policy","Category":"National Carbon Pricing Framework","Regulation Type":"President Regulation","Description":"Presidential Regulation of the Republic of Indonesia No. 98 of 2021 Concerning the Implementation of Carbon Economic Value for Achieving Nationally Determined Contribution Targets and Controlling Gree‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/187122/perpres-no-98-tahun-2021#:~:text=Perpres%20ini%20mengatur%20mengenai%3A%201%29%20maksud%2C%20tujuan%2C%20dan,mencapai%20NDC%20dan%20pengendalian%20Emisi%20Gas%20Rumah%20Kaca%2FGRK","degree":"10","size":"11","betweenness":"0.008070","closeness":"0.106250","eigenvector":"0.000000"},
{"Label":"PMLH 26-2025","General Focus":"Conservation & Nature","Category":"Mangrove Ecosystem Inventory","Regulation Type":"Ministerial Regulation","Description":"","Link":"https://peraturan.go.id/files/permenklhbph-no-26-tahun-2025.pdf","degree":"1","size":"2","betweenness":"0","closeness":"0.012500","eigenvector":"0.000000"},
{"Label":"PMDAGRI 8-2009","General Focus":"Governance & Policy","Category":"Monitoring Regional Government Performance","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Home Affairs (Permendagri) Number 8 of 2009 concerning Amendments to the Regulation of the Minister of Home Affairs Number 23 of 2007 concerning Guidelines for Supervisio‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/126321/permendagri-no-8-tahun-2009","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PP 46-2017","General Focus":"Climate & Carbon","Category":"Environmental Economic Instruments","Regulation Type":"Government Regulation","Description":"Government Regulation No. 46/2Ol7 on Environmental Economic Instruments.  It introduces mechanisms such as payments for ecosystem services, environmental fees, incentives, and market-based instruments‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/64701","degree":"5","size":"6","betweenness":"0.002532","closeness":"0.127083","eigenvector":"0.000000"},
{"Label":"PDKSDAE 4/2-2021","General Focus":"","Category":"MRV Guideline Carbon Projects","Regulation Type":"Directorate Regulation","Description":"Perdirjen P.1/KSDAE/BPE2/KSA.4/2021 is issued by Indonesia's Directorate General of Natural Resources and Ecosystem Conservation (KSDAE) under the Ministry of Environment and Forestry. In the context ‚Ä¶","Link":"https://www.scribd.com/document/518073987/Perdirjen-P-1-KSDAE-BPE2-KSA-4-2-2021","degree":"7","size":"8","betweenness":"0","closeness":"0","eigenvector":"0.017728"},
{"Label":"PMATR 12-2021","General Focus":"Planning & Data","Category":"Land Use Evaluation","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Agrarian Affairs and Spatial Planning/Head of the National Land Agency of the Republic of Indonesia Number 12 of 2021 concerning Land Technical Considerations  PMATR 12/2‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/209796/permen-agrariakepala-bpn-no-12-tahun-2021","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.024832"},
{"Label":"KMLHK 168-2022","General Focus":"Climate & Carbon","Category":"National Carbon Accounting (FOLU)","Regulation Type":"Ministerial Decree","Description":"Minister of Environment and Forestry Decree No. 168 of 2022 on Indonesia's Forestry and Other Land Use (FOLU) Net Sink 2030 for Climate Change Control  It  outlines a national roadmap for achieving ca‚Ä¶","Link":"https://pdasrh.menlhk.go.id/newsdetail.php?id=384-Indonesia-FoLU-Net-Sink-2030#:~:text=Berdasarkan%20Keputusan%20Menteri%20Lingkungan%20Hidup%20dan%20Kehutanan%20nomor,on%20Low%20Carbon%20and%20Climate%20Resilience%20%28LTS-LCCR%29%202050.","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.000000"},
{"Label":"PMATR 11-2021","General Focus":"Planning & Data","Category":"Spatial Planning Procedures","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Agrarian Affairs and Spatial Planning/Head of the National Land Agency of the Republic of Indonesia Number 11 of 2021 concerning Procedures for the Preparation, Review, R‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/209795/permen-agrariakepala-bpn-no-11-tahun-2021#:~:text=Peraturan%20Menteri%20Agraria%20dan%20Tata%20Ruang%2F%20Kepala%20Badan,Kabupaten%2C%20Kota%2C%20dan%20Rencana%20Detail%20Tata%20Ruang%2011","degree":"1","size":"2","betweenness":"0","closeness":"0","eigenvector":"0.024832"},
{"Label":"PMLHK 72-2017","General Focus":"Climate & Carbon","Category":"MRV Systems for Climate Mitigation","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry of the Republic of Indonesia Number P.72/MENLHK/SETJEN/KUM.1/12/2017 Concerning Guidelines for the Implementation of Measurement, Reporting, and ‚Ä¶","Link":"https://jdih.kemenkoinfra.go.id/cfind/source/files/permen-lhk/permenlhk-nomor-p.72-tahun-2017.pdf","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PMLHK 105-2018","General Focus":"Conservation & Nature","Category":"Forest and Land Rehabilitation Incentives and Control","Regulation Type":"Ministerial Regulation","Description":"Minister of Environment and Forestry Regulation No. 105/2018 on Procedures for Implementation, Supporting Activities, Provision of Incentives, and Guidance and Control of Forest and Land Rehabilitatio‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/163515/permen-lhk-no-105-tahun-2018","degree":"2","size":"3","betweenness":"0","closeness":"0","eigenvector":"0.017728"},
{"Label":"PMK 137/PMK.01/2019","General Focus":"Finance & Markets","Category":"Organisation and Work Procedure Indonesia Environment Fund","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Finance (PMK) Number 137/PMK.01/2019 on the Organisation and Work Procedures of the Environmental Fund Management Agency  The regulation establishes the procedures for ho‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/128168/pmk-no-137pmk012019","degree":"5","size":"6","betweenness":"0.000316","closeness":"0.012500","eigenvector":"0.020838"},
{"Label":"PPRES 23-2021","General Focus":"Planning & Data","Category":"One Map Policy Governance","Regulation Type":"President Regulation","Description":"Presidential Regulation (PERPRES) Number 23 of 2021: Amendment to Presidential Regulation Number 9 of 2016 Regarding the Acceleration of Implementation of the One Map Policy at a Scale of 1:50,000.  T‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/164964/perpres-no-23-tahun-2021","degree":"2","size":"3","betweenness":"0","closeness":"0.025000","eigenvector":"0"},
{"Label":"PMKP 1-2025","General Focus":"Climate & Carbon","Category":"Marine Carbon Market Instruments","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Maritime Affairs and Fisheries Number 1 of 2025 concerning Procedures for Implementing the Carbon Economic Value of the Marine Sector  This regulation provides the framew‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/314428/permen-kkp-no-1-tahun-2025","degree":"3","size":"4","betweenness":"0","closeness":"0","eigenvector":"0.000000"},
{"Label":"POJK 14-2023","General Focus":"Climate & Carbon","Category":"Carbon Exchange Regulation","Regulation Type":"Financial Services Authority Regulation","Description":"Financial Services Authority Regulation No. 14 of 2023 on Carbon Trading through Carbon Exchanges  It provides the overarching legal and regulatory framework for Indonesia‚Äôs carbon market, including l‚Ä¶","Link":"https://www.scribd.com/document/667608309/JK-14-Tahun-2023-PERDAGANGAN-KARBON-MELALUI-BURSA-KARBON","degree":"7","size":"8","betweenness":"0.003797","closeness":"0.037500","eigenvector":"0.000000"},
{"Label":"UU 41-1999","General Focus":"Conservation & Nature","Category":"Legal Basis for Forest Governance","Regulation Type":"Law","Description":"Law (UU) No. 41 Year 1999 on Forestry  Tis law is the fundamental legal framework for forest management in Indonesia. It establishes that forests, including mangroves, are state-controlled assets that‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/45373/uu-no-41-tahun-1999","degree":"9","size":"10","betweenness":"0.015348","closeness":"0.239583","eigenvector":"0.025334"},
{"Label":"PMLHK 11-2022","General Focus":"Governance & Policy","Category":"","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry of the Republic of Indonesia Number 11 of 2022 Concerning Professions and Competencies of Forest Management Technical Personnel  This regulates p‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235418/permen-lhk-no-11-tahun-2022","degree":"2","size":"3","betweenness":"0","closeness":"0","eigenvector":"0.001088"},
{"Label":"PP 74-2012","General Focus":"Finance & Markets","Category":"Public Service Entity Support","Regulation Type":"Government Regulation","Description":"Government Regulation (PP) No. 74 of 2012 concerning Amendments to Government Regulation No. 23 of 2005 concerning Financial Management of Public Service Entities  It provides flexibility in managing ‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/5288/pp-no-74-tahun-2012","degree":"1","size":"2","betweenness":"0","closeness":"0.025000","eigenvector":"0"},
{"Label":"PP 77-2018","General Focus":"Finance & Markets","Category":"Environmental Fiscal Instruments","Regulation Type":"Government Regulation","Description":"Presidential Regulation (PERPRES) No. 77/2018 on Environmental Fund Management  This regulation establishes a system and mechanism for managing environmental funds sourced from public and private enti‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/94707/perpres-no-77-tahun-2018","degree":"5","size":"6","betweenness":"0.000475","closeness":"0.025000","eigenvector":"0.008864"},
{"Label":"PMLH 15-2012","General Focus":"Governance & Policy","Category":"Economic Valuation","Regulation Type":"Ministerial Regulation","Description":"","Link":"https://www.peraturan.go.id/files/bn977-2012.pdf","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"UU 4-2011","General Focus":"Planning & Data","Category":"Legal Basis of Geospatial System","Regulation Type":"Law","Description":"Law No. 4 of 2011 on Geospatial Information  The law provides the geospatial data infrastructure needed for foundational mapping, planning, and monitoring.","Link":"https://peraturan.bpk.go.id/Details/39136/uu-no-4-tahun-2011","degree":"6","size":"7","betweenness":"0.007700","closeness":"0.194167","eigenvector":"0.052526"},
{"Label":"PMLHK 4-2023","General Focus":"Social & Community","Category":"Social Forestry Implementation","Regulation Type":"Ministerial Regulation","Description":"Minister of Environment and Forestry Regulation No. 4 of 2023 on Social Forestry Management in Forest Areas with Special Management  This regulation allows communities to participate in activities suc‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/253766/permen-lhk-no-4-tahun-2023","degree":"2","size":"3","betweenness":"0","closeness":"0","eigenvector":"0.003110"},
{"Label":"PMLHK 15-2021","General Focus":"Governance & Policy","Category":"Ministry of Environment and Forestry Organization and Work Procedures","Regulation Type":"Ministerial Regulation","Description":"Regulation No. 15 of 2021 by the Minister of Environment and Forestry on the Organization and Work Procedures of the Ministry of Environment and Forestry.  The regulation is critical for coordinated m‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235337/permen-lhk-no-15-tahun-2021","degree":"6","size":"7","betweenness":"0","closeness":"0.093750","eigenvector":"0"},
{"Label":"PMLHK 24-2021","General Focus":"Planning & Data","Category":"Environmental Geospatial Data","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry of the Republic of Indonesia Number 24 of 2021 Concerning Procedures for Organizing Thematic Geospatial Information within the Ministry of Enviro‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235352/permen-lhk-no-24-tahun-2021","degree":"11","size":"11","betweenness":"0.000791","closeness":"0.012500","eigenvector":"0.103440"},
{"Label":"UU 23-2014","General Focus":"Governance & Policy","Category":"Sub-National Governance","Regulation Type":"Law","Description":"AMENDED","Link":"https://peraturan.bpk.go.id/Details/38685/uu-no-23-tahun-2014","degree":"0","size":"1","betweenness":"0","closeness":"0","eigenvector":"0"},
{"Label":"PMLHK 7-2021","General Focus":"Conservation & Nature","Category":"Licensing in environment and forestry sectors","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry Number 7 of 2021 concerning Forestry Planning, Change of Designation and Function of Forest Areas, and Use of Forest Areas  This regulation estab‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235244/permen-lhk-no-7-tahun-2021","degree":"9","size":"10","betweenness":"0.005696","closeness":"0.025000","eigenvector":"0.011974"},
{"Label":"PMLHK 21-2022","General Focus":"Climate & Carbon","Category":"NEK Technical Guidelines","Regulation Type":"Ministerial Regulation","Description":"Regulation of the Minister of Environment and Forestry Number 21 of 2022 concerning Procedures for the Application of Carbon Economic Value  In relation to standardized and certified ecosystem service‚Ä¶","Link":"https://peraturan.bpk.go.id/Details/235421/permen-lhk-no-21-tahun-2022","degree":"7","size":"8","betweenness":"0.000949","closeness":"0.093750","eigenvector":"0.000000"}
];

const rawConnections = [{"From":"UU 6-2023","To":"UU 4-2011","Direction":"undirected"},{"From":"PMLHK 7-2021","To":"KMLHK 1027-2023","Direction":"directed"},{"From":"POJK 14-2023","To":"Kep-00148/BEI/09-2024","Direction":"directed"},{"From":"UU 32-2009","To":"PMLHK 24-2021","Direction":"directed"},{"From":"UU 5-1990","To":"PMLHK 7-2021","Direction":"directed"},{"From":"UU 17-2007","To":"PPRES 98-2021","Direction":"directed"},{"From":"PP 46-2017","To":"PP 77-2018","Direction":"directed"},{"From":"PMHUT 1-2024","To":"KMHUT 594-2025","Direction":"directed"},{"From":"UU 32-2009","To":"PMK 137/PMK.01/2019","Direction":"directed"},{"From":"PP 21-2021","To":"PMATR 13-2021","Direction":"directed"},{"From":"UU 41-1999","To":"PMLHK 71-2017","Direction":"directed"},{"From":"UU 6-2023","To":"PMLHK 24-2021","Direction":"directed"},{"From":"UU 16-2016","To":"PMLHK 71-2017","Direction":"directed"},{"From":"PP 21-2021","To":"PMKP 28-2021","Direction":"directed"},{"From":"UU 5-1990","To":"PP 108-2015","Direction":"directed"},{"From":"PP 21-2021","To":"KDPJPRL 41-2021","Direction":"undirected"},{"From":"PMLHK 15-2021","To":"PMLHK 10-2022","Direction":"directed"},{"From":"PMLHK 21-2022","To":"KMLHK 1027-2023","Direction":"directed"},{"From":"UU 4-2023","To":"POJK 14-2023","Direction":"directed"},{"From":"PP 77-2018","To":"PMK 137/PMK.01/2019","Direction":"directed"},{"From":"UU 32-2009","To":"PDKSDAE 4/2-2021","Direction":"directed"},{"From":"UU 41-1999","To":"PMLHK 73-2017","Direction":"directed"},{"From":"PMLHK 15-2021","To":"PMLHK 7-2021","Direction":"directed"},{"From":"PMLHK 10-2022","To":"KMHUT 594-2025","Direction":"directed"},{"From":"PMLHK 21-2022","To":"KMLHK  716-2023","Direction":"directed"},{"From":"PP 108-2015","To":"PP 28-2011","Direction":"undirected"},{"From":"PP 28-2011","To":"PDKSDAE 4/2-2021","Direction":"directed"},{"From":"PMLHK 15-2021","To":"PMLHK 27-2021","Direction":"directed"},{"From":"PPRES 98-2021","To":"KMLHK 168-2022","Direction":"directed"},{"From":"PMKP 2-2025","To":"PMKP 1-2025","Direction":"directed"},{"From":"PP 46-2017","To":"PMLHK 71-2017","Direction":"directed"},{"From":"PMK 137/PMK.01/2019","To":"PMK 180/PMK.05/2022","Direction":"directed"},{"From":"UU 16-2016","To":"PPRES 98-2021","Direction":"directed"},{"From":"PPRES 27-2014","To":"PMLHK 24-2021","Direction":"directed"},{"From":"UU 10-2009","To":"PPres 56-2019","Direction":"directed"},{"From":"PPRES 23-2021","To":"KMHUT 594-2025","Direction":"directed"},{"From":"UU 4-2011","To":"PPRES 27-2014","Direction":"directed"},{"From":"PP 45-2021","To":"PMLHK 24-2021","Direction":"directed"},{"From":"PMLHK 15-2021","To":"PMLHK 7-2023","Direction":"directed"},{"From":"PPRES 98-2021","To":"POJK 14-2023","Direction":"directed"},{"From":"UU 1-2014","To":"KDPJPRL 41-2021","Direction":"undirected"},{"From":"UU 1-2014","To":"PPres 56-2019","Direction":"directed"},{"From":"UU 45-2009","To":"PPres 56-2019","Direction":"directed"},{"From":"UU 41-1999","To":"PMLHK 7-2021","Direction":"directed"},{"From":"UU 6-2023","To":"UU 45-2009","Direction":"undirected"},{"From":"PMLHK 23-2021","To":"PMLHK 7-2023","Direction":"directed"},{"From":"UU 6-2023","To":"UU 32-2009","Direction":"undirected"},{"From":"UU 32-2009","To":"PPres 56-2019","Direction":"directed"},{"From":"PMLHK 23-2021","To":"PMK 216/PMK.07/2021","Direction":"directed"},{"From":"PP 26-2020","To":"PMLHK 10-2022","Direction":"directed"},{"From":"PP 27-2025","To":"PMLH 26-2025","Direction":"undirected"},{"From":"UU 6-2023","To":"UU 10-2009","Direction":"undirected"},{"From":"UU 41-1999","To":"PMLHK 105-2018","Direction":"directed"},{"From":"UU 9-2015","To":"PDKSDAE 4/2-2021","Direction":"directed"},{"From":"UU 6-2023","To":"UU 1-2014","Direction":"undirected"},{"From":"UU 16-2016","To":"PMLHK 73-2017","Direction":"directed"},{"From":"PP 28-2011","To":"PPres 56-2019","Direction":"directed"},{"From":"KPres 32-1990","To":"PDKSDAE 4/2-2021","Direction":"directed"},{"From":"UU 32-2009","To":"PMK 180/PMK.05/2022","Direction":"directed"},{"From":"PMLHK 21-2022","To":"PMLHK 7-2023","Direction":"directed"},{"From":"PP 21-2021","To":"PMATR 12-2021","Direction":"directed"},{"From":"UU 41-1999","To":"PDKSDAE 4/2-2021","Direction":"directed"},{"From":"PMLHK 74-2016","To":"PDKSDAE 4/2-2021","Direction":"directed"},{"From":"PP 46-2017","To":"PPRES 98-2021","Direction":"directed"},{"From":"PMLHK 21-2022","To":"PMLHK 7-2021","Direction":"directed"},{"From":"PPRES 98-2021","To":"PMKP 1-2025","Direction":"directed"},{"From":"PPRES 98-2021","To":"PMLHK 7-2021","Direction":"directed"},{"From":"PMLHK 23-2021","To":"PMLHK 4-2023","Direction":"directed"},{"From":"PMLHK 8-2021","To":"PMLHK 11-2022","Direction":"directed"},{"From":"PP 46-2017","To":"PMLH 2-2025","Direction":"undirected"},{"From":"UU 1-2014","To":"PP 21-2021","Direction":"directed"},{"From":"PP 23-2021","To":"PMLHK 24-2021","Direction":"directed"},{"From":"UU 4-2011","To":"KDPJPRL 41-2021","Direction":"undirected"},{"From":"PPRES 175-2024","To":"PMLHK 7-2021","Direction":"directed"},{"From":"PP 77-2018","To":"PMK 180/PMK.05/2022","Direction":"directed"},{"From":"UU 32-2009","To":"PMLHK 71-2017","Direction":"directed"},{"From":"PP 21-2021","To":"PMATR 11-2021","Direction":"directed"},{"From":"PMLHK 9-2021","To":"PMLHK 4-2023","Direction":"directed"},{"From":"UU 4-2011","To":"KMHUT 594-2025","Direction":"directed"},{"From":"PP 26-2020","To":"PMLHK 10-2021","Direction":"directed"},{"From":"PP 21-2021","To":"PMATR 14-2021","Direction":"directed"},{"From":"UU 32-2009","To":"PMLHK 105-2018","Direction":"directed"},{"From":"UU 4-2011","To":"PP 45-2021","Direction":"directed"},{"From":"PMLHK 21-2022","To":"POJK 14-2023","Direction":"directed"},{"From":"UU 5-1990","To":"PDKSDAE 4/2-2021","Direction":"directed"},{"From":"UU 16-2016","To":"POJK 14-2023","Direction":"directed"},{"From":"PP 74-2012","To":"PP 77-2018","Direction":"directed"},{"From":"UU 6-2023","To":"UU 41-1999","Direction":"undirected"},{"From":"PMLHK 15-2021","To":"PMLHK 24-2021","Direction":"directed"},{"From":"PPRES 175-2024","To":"KMHUT 594-2025","Direction":"directed"},{"From":"UU 9-2015","To":"PPRES 98-2021","Direction":"directed"},{"From":"POJK 14-2023","To":"Kep-00296/BEI/09-2023","Direction":"directed"},{"From":"PP 23-2021","To":"PMLHK 7-2021","Direction":"directed"},{"From":"PP 26-2020","To":"KMHUT 594-2025","Direction":"directed"},{"From":"PMLHK 21-2022","To":"PMKP 1-2025","Direction":"directed"},{"From":"POJK 14-2023","To":"Kep-00298/BEI/09-2023","Direction":"directed"},{"From":"PMLHK 15-2021","To":"PMLHK 11-2022","Direction":"directed"},{"From":"PPRES 39-2019","To":"PMLHK 24-2021","Direction":"directed"},{"From":"UU 4-2011","To":"PMLHK 24-2021","Direction":"directed"},{"From":"PP 60-2007","To":"PPres 56-2019","Direction":"directed"},{"From":"PPRES 98-2021","To":"PMLHK 7-2023","Direction":"directed"},{"From":"UU 5-1990","To":"PPres 56-2019","Direction":"directed"},{"From":"PP 45-2021","To":"KDPJPRL 41-2021","Direction":"undirected"},{"From":"PP 26-2020","To":"PMLHK 23-2021","Direction":"directed"},{"From":"UU 41-1999","To":"PMLHK 9-2021","Direction":"directed"},{"From":"UU 32-2009","To":"PP 77-2018","Direction":"directed"},{"From":"PPRES 98-2021","To":"PMLHK 21-2022","Direction":"directed"},{"From":"PMLHK 24-2021","To":"KMHUT 594-2025","Direction":"directed"},{"From":"UU 32-2024","To":"UU 5-1990","Direction":"undirected"},{"From":"UU 6-2023","To":"PP 21-2021","Direction":"directed"},{"From":"UU 41-1999","To":"PP 23-2021","Direction":"directed"},{"From":"PPRES 23-2021","To":"PMLHK 24-2021","Direction":"directed"},{"From":"PMLHK 7-2021","To":"KMLHK  716-2023","Direction":"directed"},{"From":"UU 41-1999","To":"PMK 137/PMK.01/2019","Direction":"directed"},{"From":"PP 46-2017","To":"PMK 137/PMK.01/2019","Direction":"directed"},{"From":"PP 23-2021","To":"PMLHK 8-2021","Direction":"directed"},{"From":"UU 6-2023","To":"KMHUT 594-2025","Direction":"directed"}];

// ‚îÄ‚îÄ‚îÄ COLORS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const FOCUS_COLORS = {
  "Climate & Carbon": "#00c98b",
  "Conservation & Nature": "#4fc3f7",
  "Governance & Policy": "#a78bfa",
  "Planning & Data": "#f59e0b",
  "Finance & Markets": "#fb923c",
  "Social & Community": "#f472b6",
  "Other": "#94a3b8"
};

// ‚îÄ‚îÄ‚îÄ REGULATION TYPE COLORS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const REG_TYPE_COLORS = {
  "Law": "#e53e3e",
  "Government Regulation": "#dd6b20",
  "President Regulation": "#d69e2e",
  "Presidential Decree": "#b7791f",
  "Ministerial Regulation": "#38a169",
  "Ministerial Decree": "#2b6cb0",
  "Decree of the Board of Directors": "#805ad5",
  "Financial Services Authority Regulation": "#d53f8c",
  "Directorate Regulation": "#0891b2",
  "National Standardization Body Regulation": "#718096"
};

function getFocusColor(focus) {
  return FOCUS_COLORS[focus] || FOCUS_COLORS["Other"];
}

function getRegTypeColor(regType) {
  return REG_TYPE_COLORS[regType] || '#718096';
}

// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let activeFilters = new Set(Object.keys(FOCUS_COLORS));
let activeTypes = new Set(Object.keys(REG_TYPE_COLORS));
let searchQuery = '';
let selectedNode = null;
let layoutMode = 'force';
let sizeMetric = 'degree';
let simulation;
let zoomBehavior;
let allNodes = [], allLinks = [];
let nodeMap = {};
let nodeColorMap = {}; // global for edge coloring

// Build index
rawElements.forEach(e => { nodeMap[e.Label.trim()] = e; });

// ‚îÄ‚îÄ‚îÄ BUILD GRAPH DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
allNodes = rawElements.map((el, i) => ({
  id: el.Label.trim(),
  label: el.Label.trim(),
  focus: el["General Focus"] || "Other",
  category: el.Category,
  regType: el["Regulation Type"],
  description: el.Description,
  link: el.Link,
  degree: parseInt(el.degree) || 0,
  size: 8, // placeholder, computed below
  color: getRegTypeColor(el["Regulation Type"]),
  focusColor: getFocusColor(el["General Focus"]),
  betweenness: parseFloat(el.betweenness) || 0,
  closeness: parseFloat(el.closeness) || 0,
  eigenvector: parseFloat(el.eigenvector) || 0,
  x: undefined, y: undefined
}));

// Compute initial sizes based on degree
allNodes.forEach(n => { n.size = computeNodeSize(n, 'degree'); });

allLinks = rawConnections.map(c => ({
  source: c.From.trim(),
  target: c.To.trim(),
  direction: c.Direction
})).filter(l => nodeMap[l.source] && nodeMap[l.target]);

// ‚îÄ‚îÄ‚îÄ BUILD SIDEBAR FILTERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildFilters() {
  // Focus filters
  const fc = document.getElementById('focusFilters');
  Object.entries(FOCUS_COLORS).forEach(([name, color]) => {
    const count = allNodes.filter(n => n.focus === name).length;
    if (!count) return;
    const chip = document.createElement('div');
    chip.className = 'filter-chip active';
    chip.dataset.focus = name;
    chip.style.background = color + '18';
    chip.style.borderColor = color + '60';
    chip.style.color = color;
    chip.innerHTML = `<span class="dot" style="background:${color}"></span>${name} <span style="opacity:0.6">(${count})</span>`;
    chip.onclick = () => toggleFocusFilter(name, chip, color);
    fc.appendChild(chip);
  });

  // Type filters
  const tc = document.getElementById('typeFilters');
  const types = [...new Set(allNodes.map(n => n.regType).filter(Boolean))].sort();
  types.forEach(type => {
    const count = allNodes.filter(n => n.regType === type).length;
    const item = document.createElement('div');
    item.className = 'type-item active';
    item.dataset.type = type;
    item.innerHTML = `<span class="type-left"><span class="type-name" style="font-size:11px">${type}</span></span><span class="type-count">${count}</span>`;
    item.onclick = () => toggleTypeFilter(type, item);
    tc.appendChild(item);
  });
}

function toggleFocusFilter(name, chip, color) {
  if (activeFilters.has(name)) {
    activeFilters.delete(name);
    chip.className = 'filter-chip inactive';
  } else {
    activeFilters.add(name);
    chip.className = 'filter-chip active';
  }
  updateVisibility();
}

function toggleTypeFilter(type, item) {
  if (activeTypes.has(type)) {
    activeTypes.delete(type);
    item.classList.remove('active');
  } else {
    activeTypes.add(type);
    item.classList.add('active');
  }
  updateVisibility();
}

// ‚îÄ‚îÄ‚îÄ LEGEND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildLegend() {
  document.querySelector('.legend h4').textContent = 'Regulation Type';
  const li = document.getElementById('legendItems');
  li.innerHTML = '';
  Object.entries(REG_TYPE_COLORS).forEach(([name, color]) => {
    const count = allNodes.filter(n => n.regType === name).length;
    if (!count) return;
    const item = document.createElement('div');
    item.className = 'legend-item';
    item.innerHTML = `<span class="legend-dot" style="background:${color}"></span><span>${name}</span><span style="color:var(--muted);font-size:10px;margin-left:4px">(${count})</span>`;
    li.appendChild(item);
  });
}

// ‚îÄ‚îÄ‚îÄ NODE LIST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildNodeList(nodes) {
  const list = document.getElementById('nodeList');
  const countEl = document.getElementById('nodeCount');
  list.innerHTML = '';
  countEl.textContent = nodes.length;
  if (!nodes.length) {
    list.innerHTML = '<div class="no-results">No regulations found</div>';
    return;
  }
  nodes.forEach(n => {
    const card = document.createElement('div');
    card.className = 'node-card' + (selectedNode && selectedNode.id === n.id ? ' highlighted' : '');
    card.dataset.id = n.id;
    const color = n.color;
    card.innerHTML = `
      <div class="node-card-label">${n.label}</div>
      <div class="node-card-meta">
        <span class="node-focus-badge" style="background:${n.color}22;color:${n.color};border:1px solid ${n.color}44">${n.regType || ''}</span>
        <span style="color:var(--muted)">${n.focus}</span>
      </div>`;
    card.onclick = () => selectNode(n.id);
    list.appendChild(card);
  });
}

// ‚îÄ‚îÄ‚îÄ D3 GRAPH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const svg = d3.select('#mainSvg');
let gContainer;
let linkSel, nodeSel;

function initGraph() {
  const el = document.getElementById('graphArea');
  const W = el.clientWidth, H = el.clientHeight;

  svg.selectAll('*:not(defs)').remove();
  gContainer = svg.append('g').attr('id', 'gContainer');

  zoomBehavior = d3.zoom()
    .scaleExtent([0.1, 5])
    .on('zoom', e => gContainer.attr('transform', e.transform));
  svg.call(zoomBehavior);
  svg.on('click', (e) => { if (e.target === svg.node()) deselectNode(); });

  // Build nodeColor lookup for edge coloring (global)
  allNodes.forEach(n => { nodeColorMap[n.id] = n.color; });

  // links
  linkSel = gContainer.append('g').attr('class', 'links')
    .selectAll('line')
    .data(allLinks)
    .enter().append('line')
    .attr('class', d => 'edge ' + d.direction)
    .attr('stroke', d => {
      const sId = typeof d.source === 'object' ? d.source.id : d.source;
      return (nodeColorMap[sId] || '#94a3b8') + '70';
    })
    .attr('stroke-width', 1);

  // nodes
  const nodeGroups = gContainer.append('g').attr('class', 'nodes')
    .selectAll('g')
    .data(allNodes)
    .enter().append('g')
    .attr('class', 'node-group')
    .attr('data-id', d => d.id)
    .style('cursor', 'pointer')
    .call(d3.drag()
      .on('start', dragStarted)
      .on('drag', dragged)
      .on('end', dragEnded))
    .on('click', (e, d) => { e.stopPropagation(); selectNode(d.id); })
    .on('mouseover', showTooltip)
    .on('mousemove', moveTooltip)
    .on('mouseout', hideTooltip);

  nodeGroups.append('circle')
    .attr('class', 'node-circle')
    .attr('r', d => d.size)
    .attr('fill', d => d.color + 'cc')
    .attr('stroke', d => d.color)
    .attr('stroke-width', 1.5);

  nodeGroups.append('text')
    .attr('class', 'node-label')
    .attr('dy', d => d.size + 10)
    .attr('text-anchor', 'middle')
    .attr('fill', '#334155')
    .attr('font-size', '9px')
    .text(d => d.label.length > 18 ? d.label.slice(0,16)+'‚Ä¶' : d.label);

  nodeSel = nodeGroups;

  // Pre-position isolated nodes in a ring at the periphery
  const isolatedNodes = allNodes.filter(n => n.degree === 0);
  const connectedNodes = allNodes.filter(n => n.degree > 0);
  const peripheryR = Math.min(W, H) * 0.42;
  const peripheryAngleStart = Math.PI * 0.55; // bottom-right arc
  const peripheryAngleSpan = Math.PI * 1.1;
  isolatedNodes.forEach((n, i) => {
    const angle = peripheryAngleStart + (i / Math.max(isolatedNodes.length - 1, 1)) * peripheryAngleSpan;
    n.x = W/2 + Math.cos(angle) * peripheryR;
    n.y = H/2 + Math.sin(angle) * peripheryR;
  });

  simulation = d3.forceSimulation(allNodes)
    .force('link', d3.forceLink(allLinks).id(d => d.id).distance(d => {
      return 55 + (d.source.degree + d.target.degree) * 1.5;
    }).strength(0.7))
    .force('charge', d3.forceManyBody().strength(d => {
      // Isolated nodes repel weakly so they cluster near periphery
      return d.degree === 0 ? -25 : -160;
    }))
    .force('center', d3.forceCenter(W/2, H/2).strength(0.04))
    .force('collide', d3.forceCollide(d => d.size + 10))
    // Connected nodes: mild pull to center
    .force('x', d3.forceX(W/2).strength(d => d.degree === 0 ? 0 : 0.025))
    .force('y', d3.forceY(H/2).strength(d => d.degree === 0 ? 0 : 0.025))
    // Isolated nodes: strong pull to their periphery target position
    .force('periphery', (alpha) => {
      isolatedNodes.forEach((n, i) => {
        const angle = peripheryAngleStart + (i / Math.max(isolatedNodes.length - 1, 1)) * peripheryAngleSpan;
        const tx = W/2 + Math.cos(angle) * peripheryR;
        const ty = H/2 + Math.sin(angle) * peripheryR;
        n.vx += (tx - n.x) * 0.12 * alpha;
        n.vy += (ty - n.y) * 0.12 * alpha;
      });
    })
    .on('tick', ticked);

  fitView();
}

function ticked() {
  linkSel
    .attr('x1', d => d.source.x)
    .attr('y1', d => d.source.y)
    .attr('x2', d => d.target.x)
    .attr('y2', d => d.target.y);
  nodeSel.attr('transform', d => `translate(${d.x},${d.y})`);
}

function dragStarted(e, d) {
  if (!e.active) simulation.alphaTarget(0.3).restart();
  d.fx = d.x; d.fy = d.y;
}
function dragged(e, d) { d.fx = e.x; d.fy = e.y; }
function dragEnded(e, d) {
  if (!e.active) simulation.alphaTarget(0);
  d.fx = null; d.fy = null;
}

// ‚îÄ‚îÄ‚îÄ VISIBILITY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function getVisibleNodes() {
  return allNodes.filter(n => {
    const focusOk = activeFilters.has(n.focus) || (n.focus === null && activeFilters.has("Other"));
    const typeOk = !n.regType || activeTypes.has(n.regType);
    const searchOk = !searchQuery || n.label.toLowerCase().includes(searchQuery.toLowerCase()) || (n.category && n.category.toLowerCase().includes(searchQuery.toLowerCase()));
    return focusOk && typeOk && searchOk;
  });
}

function updateVisibility() {
  const visibleIds = new Set(getVisibleNodes().map(n => n.id));
  
  nodeSel.style('opacity', d => visibleIds.has(d.id) ? 1 : 0.07)
    .style('pointer-events', d => visibleIds.has(d.id) ? 'all' : 'none');

  linkSel.style('opacity', d => {
    const sId = typeof d.source === 'object' ? d.source.id : d.source;
    const tId = typeof d.target === 'object' ? d.target.id : d.target;
    return visibleIds.has(sId) && visibleIds.has(tId) ? 0.7 : 0.03;
  });

  buildNodeList(getVisibleNodes());
}

function filterNodes(q) {
  searchQuery = q;
  updateVisibility();
}

// ‚îÄ‚îÄ‚îÄ SELECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function selectNode(id) {
  selectedNode = allNodes.find(n => n.id === id);
  if (!selectedNode) return;

  // Highlight connected
  const connectedIds = new Set([id]);
  allLinks.forEach(l => {
    const sId = typeof l.source === 'object' ? l.source.id : l.source;
    const tId = typeof l.target === 'object' ? l.target.id : l.target;
    if (sId === id) connectedIds.add(tId);
    if (tId === id) connectedIds.add(sId);
  });

  nodeSel.style('opacity', d => connectedIds.has(d.id) ? 1 : 0.12);
  linkSel.style('opacity', d => {
    const sId = typeof d.source === 'object' ? d.source.id : d.source;
    const tId = typeof d.target === 'object' ? d.target.id : d.target;
    return (sId === id || tId === id) ? 1 : 0.04;
  }).attr('stroke', d => {
    const sId = typeof d.source === 'object' ? d.source.id : d.source;
    const tId = typeof d.target === 'object' ? d.target.id : d.target;
    if (sId === id || tId === id) {
      return nodeColorMap[sId] || '#0891b2';
    }
    return (nodeColorMap[sId] || '#94a3b8') + '40';
  }).attr('stroke-width', d => {
    const sId = typeof d.source === 'object' ? d.source.id : d.source;
    const tId = typeof d.target === 'object' ? d.target.id : d.target;
    return (sId === id || tId === id) ? 2.5 : 1;
  });

  showDetailPanel(selectedNode, connectedIds);
  
  // Update node list
  document.querySelectorAll('.node-card').forEach(card => {
    card.classList.toggle('highlighted', card.dataset.id === id);
  });
}

function deselectNode() {
  selectedNode = null;
  updateVisibility();
  linkSel
    .attr('stroke', d => {
      const sId = typeof d.source === 'object' ? d.source.id : d.source;
      return (nodeColorMap[sId] || '#94a3b8') + '70';
    })
    .attr('stroke-width', 1);
  closeDetail();
  document.querySelectorAll('.node-card').forEach(c => c.classList.remove('highlighted'));
}

function showDetailPanel(node, connectedIds) {
  const panel = document.getElementById('detailPanel');
  const body = document.getElementById('detailBody');
  panel.classList.remove('hidden');

  const connections = allLinks.filter(l => {
    const sId = typeof l.source === 'object' ? l.source.id : l.source;
    const tId = typeof l.target === 'object' ? l.target.id : l.target;
    return sId === node.id || tId === node.id;
  });

  const outgoing = connections.filter(l => {
    const sId = typeof l.source === 'object' ? l.source.id : l.source;
    return sId === node.id;
  });
  const incoming = connections.filter(l => {
    const tId = typeof l.target === 'object' ? l.target.id : l.target;
    return tId === node.id;
  });

  const color = node.color;

  body.innerHTML = `
    <div class="detail-label">${node.label}</div>
    <div class="detail-type-badge" style="background:${node.color}22;color:${node.color};border-color:${node.color}44">${node.regType || 'Regulation'}</div>
    
    ${node.category ? `
    <div class="detail-section">
      <h4>Category</h4>
      <span class="detail-cat">${node.category}</span>
    </div>` : ''}

    ${node.description ? `
    <div class="detail-section">
      <h4>Description</h4>
      <p class="detail-desc">${node.description.split('\n')[0]}</p>
    </div>` : ''}

    <div class="detail-section">
      <h4>Network Metrics</h4>
      <div class="metrics-grid">
        <div class="metric-card">
          <div class="m-label">Degree</div>
          <div class="m-val">${node.degree}</div>
        </div>
        <div class="metric-card">
          <div class="m-label">Betweenness</div>
          <div class="m-val">${fmtMetric(node.betweenness)}</div>
        </div>
        <div class="metric-card">
          <div class="m-label">Closeness</div>
          <div class="m-val">${fmtMetric(node.closeness)}</div>
        </div>
        <div class="metric-card">
          <div class="m-label">Eigenvector</div>
          <div class="m-val">${fmtMetric(node.eigenvector)}</div>
        </div>
        <div class="metric-card">
          <div class="m-label">Focus Area</div>
          <div class="m-val" style="font-size:11px;color:${node.focusColor}">${node.focus}</div>
        </div>
        <div class="metric-card">
          <div class="m-label">Out / In</div>
          <div class="m-val">${outgoing.length} / ${incoming.length}</div>
        </div>
      </div>
    </div>

    ${outgoing.length > 0 ? `
    <div class="detail-section">
      <h4>References (${outgoing.length})</h4>
      <ul class="connections-list">
        ${outgoing.slice(0,8).map(l => {
          const tId = typeof l.target === 'object' ? l.target.id : l.target;
          return `<li onclick="selectNode('${tId}')"><span class="conn-arrow">‚Üí</span>${tId}</li>`;
        }).join('')}
        ${outgoing.length > 8 ? `<li style="color:var(--muted);cursor:default">+${outgoing.length-8} more‚Ä¶</li>` : ''}
      </ul>
    </div>` : ''}

    ${incoming.length > 0 ? `
    <div class="detail-section">
      <h4>Referenced By (${incoming.length})</h4>
      <ul class="connections-list">
        ${incoming.slice(0,8).map(l => {
          const sId = typeof l.source === 'object' ? l.source.id : l.source;
          return `<li onclick="selectNode('${sId}')"><span class="conn-arrow">‚Üê</span>${sId}</li>`;
        }).join('')}
        ${incoming.length > 8 ? `<li style="color:var(--muted);cursor:default">+${incoming.length-8} more‚Ä¶</li>` : ''}
      </ul>
    </div>` : ''}

    ${node.link ? `
    <div class="detail-link">
      <a href="${node.link}" target="_blank" rel="noopener">
        üîó View Official Document
      </a>
    </div>` : ''}
  `;
}

function closeDetail() {
  document.getElementById('detailPanel').classList.add('hidden');
}

// ‚îÄ‚îÄ‚îÄ TOOLTIP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function fmtMetric(v) {
  if (!v || v === 0) return '‚Äî';
  if (v < 0.001) return v.toExponential(2);
  return v.toFixed(4).replace(/\.?0+$/, '');
}

function showTooltip(e, d) {
  const tt = document.getElementById('tooltip');
  const desc = d.description ? d.description.split('\n')[0].slice(0,160) + (d.description.length > 160 ? '‚Ä¶' : '') : 'No description available.';
  tt.innerHTML = `
    <div class="tt-label">${d.label}</div>
    <div class="tt-type">${d.regType || ''} ¬∑ ${d.focus}</div>
    <div class="tt-desc">${desc}</div>
    <div class="tt-meta">
      <div class="tt-meta-item">
        <div class="tt-meta-label">Degree</div>
        <div class="tt-meta-val">${d.degree}</div>
      </div>
      <div class="tt-meta-item">
        <div class="tt-meta-label">Betweenness</div>
        <div class="tt-meta-val">${fmtMetric(d.betweenness)}</div>
      </div>
      <div class="tt-meta-item">
        <div class="tt-meta-label">Closeness</div>
        <div class="tt-meta-val">${fmtMetric(d.closeness)}</div>
      </div>
      <div class="tt-meta-item">
        <div class="tt-meta-label">Eigenvector</div>
        <div class="tt-meta-val">${fmtMetric(d.eigenvector)}</div>
      </div>
    </div>
    ${d.link ? `<div class="tt-link"><a href="${d.link}" target="_blank">üîó Official Link</a></div>` : ''}
  `;
  tt.classList.add('visible');
  moveTooltip(e);
}

function moveTooltip(e) {
  const tt = document.getElementById('tooltip');
  const ga = document.getElementById('graphArea').getBoundingClientRect();
  let x = e.clientX - ga.left + 16;
  let y = e.clientY - ga.top + 16;
  if (x + 360 > ga.width) x = e.clientX - ga.left - 360;
  if (y + 260 > ga.height) y = e.clientY - ga.top - 260;
  tt.style.left = x + 'px';
  tt.style.top = y + 'px';
}

function hideTooltip() {
  document.getElementById('tooltip').classList.remove('visible');
}

// ‚îÄ‚îÄ‚îÄ NODE SIZE BY METRIC ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function computeNodeSize(node, metric) {
  const MIN = 5, MAX = 24;
  let vals;
  if (metric === 'degree') {
    vals = allNodes.map(n => n.degree);
    const maxV = Math.max(...vals) || 1;
    const v = node.degree / maxV;
    return MIN + v * (MAX - MIN);
  }
  if (metric === 'betweenness') {
    vals = allNodes.map(n => n.betweenness);
    const maxV = Math.max(...vals) || 1;
    const v = node.betweenness / maxV;
    return MIN + Math.pow(v, 0.5) * (MAX - MIN);
  }
  if (metric === 'eigenvector') {
    vals = allNodes.map(n => n.eigenvector);
    const maxV = Math.max(...vals) || 1;
    const v = node.eigenvector / maxV;
    return MIN + Math.pow(v, 0.5) * (MAX - MIN);
  }
  if (metric === 'closeness') {
    vals = allNodes.map(n => n.closeness);
    const maxV = Math.max(...vals) || 1;
    const v = node.closeness / maxV;
    return MIN + Math.pow(v, 0.5) * (MAX - MIN);
  }
  return MIN + 4;
}

function setSizeMetric(metric) {
  sizeMetric = metric;
  // Update button states
  document.querySelectorAll('.size-btn').forEach(b => {
    b.classList.toggle('active', b.dataset.metric === metric);
  });
  // Recompute sizes on all nodes
  allNodes.forEach(n => { n.size = computeNodeSize(n, metric); });
  // Update circles radii and label positions with transition
  if (nodeSel) {
    nodeSel.selectAll('circle.node-circle')
      .transition().duration(450).ease(d3.easeCubicOut)
      .attr('r', d => d.size);
    nodeSel.selectAll('text.node-label')
      .transition().duration(450).ease(d3.easeCubicOut)
      .attr('dy', d => d.size + 10);
  }
  // Update collide force
  if (simulation) {
    simulation.force('collide', d3.forceCollide(d => d.size + 10));
    simulation.alpha(0.3).restart();
  }
}

// ‚îÄ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function setLayout(mode) {
  layoutMode = mode;
  document.getElementById('btn-force').classList.toggle('active', mode === 'force');
  document.getElementById('btn-radial').classList.toggle('active', mode === 'radial');

  const el = document.getElementById('graphArea');
  const W = el.clientWidth, H = el.clientHeight;
  const cx = W/2, cy = H/2;

  if (mode === 'radial') {
    simulation.stop();
    const focuses = [...new Set(allNodes.map(n => n.focus))];
    allNodes.forEach((n, i) => {
      const focusIdx = focuses.indexOf(n.focus);
      const nodesInFocus = allNodes.filter(x => x.focus === n.focus);
      const posInFocus = nodesInFocus.indexOf(n);
      const angle = (focusIdx / focuses.length) * Math.PI * 2;
      const radius = 200 + posInFocus * 18;
      const spread = (posInFocus / nodesInFocus.length) * 0.8 - 0.4;
      n.x = cx + Math.cos(angle + spread) * radius;
      n.y = cy + Math.sin(angle + spread) * radius;
      n.fx = n.x; n.fy = n.y;
    });
    simulation.nodes(allNodes).alpha(0.3).restart();
    setTimeout(() => {
      allNodes.forEach(n => { n.fx = null; n.fy = null; });
    }, 1500);
  } else {
    allNodes.forEach(n => { n.fx = null; n.fy = null; });
    simulation.force('center', d3.forceCenter(cx, cy)).alpha(0.5).restart();
  }
}

function resetView() {
  const el = document.getElementById('graphArea');
  const W = el.clientWidth, H = el.clientHeight;
  svg.transition().duration(600)
    .call(zoomBehavior.transform, d3.zoomIdentity.translate(W/2, H/2).scale(0.7).translate(-W/2, -H/2));
  deselectNode();
  activeFilters = new Set(Object.keys(FOCUS_COLORS));
  activeTypes = new Set(Object.keys(REG_TYPE_COLORS));
  searchQuery = '';
  document.getElementById('searchInput').value = '';
  document.querySelectorAll('.filter-chip').forEach(c => c.className = 'filter-chip active');
  document.querySelectorAll('.type-item').forEach(i => i.classList.add('active'));
  updateVisibility();
}

function fitView() {
  const el = document.getElementById('graphArea');
  const W = el.clientWidth, H = el.clientHeight;
  svg.transition().duration(800)
    .call(zoomBehavior.transform, d3.zoomIdentity.translate(W*0.05, H*0.05).scale(0.9));
}

function zoomIn() { svg.transition().duration(300).call(zoomBehavior.scaleBy, 1.4); }
function zoomOut() { svg.transition().duration(300).call(zoomBehavior.scaleBy, 0.7); }

// ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.addEventListener('load', () => {
  buildFilters();
  buildLegend();
  initGraph();
  buildNodeList(allNodes);
});

window.addEventListener('resize', () => {
  const el = document.getElementById('graphArea');
  const W = el.clientWidth, H = el.clientHeight;
  if (simulation) {
    simulation.force('center', d3.forceCenter(W/2, H/2)).alpha(0.1).restart();
  }
});
</script>
</body>
</html>
